# QMS-Nexus éƒ¨ç½²æ£€æŸ¥æ¸…å•

**ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2026-02-15  
**éƒ¨ç½²ç¯å¢ƒ**: ç”Ÿäº§ç¯å¢ƒ

---

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥

### ä»£ç æ£€æŸ¥
- [ ] æ‰€æœ‰è·¯ç”±å·²æ›´æ–°ä¸º `/system` å‰ç¼€
- [ ] æ‰€æœ‰ç¡¬ç¼–ç è·¯ç”±å·²æ›¿æ¢ä¸ºå¸¸é‡
- [ ] æµ‹è¯•ç”¨ä¾‹å·²æ›´æ–°
- [ ] ä»£ç å®¡æŸ¥å·²å®Œæˆ
- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°ï¼ˆpackage.jsonï¼‰

### é…ç½®æ–‡ä»¶æ£€æŸ¥
- [ ] `vite.config.ts` é…ç½®æ­£ç¡®
- [ ] `nginx.conf` å·²åˆ›å»ºå¹¶é…ç½®æ­£ç¡®
- [ ] `Dockerfile` å·²åˆ›å»º
- [ ] `docker-compose.yml` å·²åˆ›å»ºï¼ˆå¦‚ä½¿ç”¨Dockerï¼‰
- [ ] ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®

### æ„å»ºæ£€æŸ¥
- [ ] è¿è¡Œ `npm run build` æˆåŠŸ
- [ ] æ„å»ºäº§ç‰©æ£€æŸ¥ï¼ˆdistç›®å½•ï¼‰
- [ ] æ— æ„å»ºé”™è¯¯æˆ–è­¦å‘Š
- [ ] é™æ€èµ„æºå¤§å°æ£€æŸ¥ï¼ˆæ— å¼‚å¸¸å¤§æ–‡ä»¶ï¼‰

### ä¾èµ–æ£€æŸ¥
- [ ] æ‰€æœ‰ä¾èµ–å·²å®‰è£…ï¼ˆnode_moduleså®Œæ•´ï¼‰
- [ ] æ— å®‰å…¨æ¼æ´ï¼ˆè¿è¡Œ `npm audit`ï¼‰
- [ ] ä¾èµ–ç‰ˆæœ¬é”å®šï¼ˆpackage-lock.jsonå·²æäº¤ï¼‰

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ–¹å¼1ï¼šNginxéƒ¨ç½²ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰

#### æ­¥éª¤1ï¼šæ„å»ºå‰ç«¯åº”ç”¨
```bash
cd d:/myproject/qms-nexus-frontend

# å®‰è£…ä¾èµ–ï¼ˆå¦‚éœ€è¦ï¼‰
npm ci --only=production

# æ„å»ºåº”ç”¨
npm run build

# æ£€æŸ¥æ„å»ºäº§ç‰©
ls -lh dist/
```

**éªŒè¯**: ç¡®è®¤distç›®å½•åŒ…å«index.htmlå’Œassetsç›®å½•

#### æ­¥éª¤2ï¼šä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨
```bash
# ä½¿ç”¨scpä¸Šä¼ ï¼ˆç¤ºä¾‹ï¼‰
scp -r dist/* user@your-server:/usr/share/nginx/html/

# æˆ–ä½¿ç”¨rsync
rsync -avz --delete dist/ user@your-server:/usr/share/nginx/html/
```

**éªŒè¯**: ç¡®è®¤æ–‡ä»¶å·²ä¸Šä¼ åˆ°æœåŠ¡å™¨æ­£ç¡®ä½ç½®

#### æ­¥éª¤3ï¼šé…ç½®Nginx
```bash
# ä¸Šä¼ Nginxé…ç½®æ–‡ä»¶
scp nginx.conf user@your-server:/etc/nginx/conf.d/qms-nexus.conf

# æµ‹è¯•Nginxé…ç½®
ssh user@your-server "sudo nginx -t"

# é‡è½½Nginx
ssh user@your-server "sudo systemctl reload nginx"
```

**éªŒè¯**: è®¿é—® `http://your-server/system` åº”èƒ½çœ‹åˆ°åº”ç”¨

#### æ­¥éª¤4ï¼šéªŒè¯éƒ¨ç½²
- [ ] è®¿é—® `http://your-server/system` - é‡å®šå‘åˆ° `/system/dashboard`
- [ ] è®¿é—® `http://your-server/system/dashboard` - ä»ªè¡¨ç›˜æ­£å¸¸æ˜¾ç¤º
- [ ] è®¿é—® `http://your-server/system/documents` - æ–‡æ¡£åˆ—è¡¨æ­£å¸¸æ˜¾ç¤º
- [ ] è®¿é—® `http://your-server/system/chat` - æ™ºèƒ½é—®ç­”æ­£å¸¸æ˜¾ç¤º
- [ ] ä¾§è¾¹æ èœå•ç‚¹å‡»æ­£å¸¸
- [ ] æ—§è·¯ç”±é‡å®šå‘æ­£å¸¸ï¼ˆè®¿é—® `/documents` è‡ªåŠ¨è·³è½¬åˆ° `/system/documents`ï¼‰

---

### æ–¹å¼2ï¼šDockeréƒ¨ç½²

#### æ­¥éª¤1ï¼šæ„å»ºDockeré•œåƒ
```bash
cd d:/myproject/qms-nexus-frontend

# æ„å»ºé•œåƒ
docker build -t qms-nexus-frontend:v1.0.0 .

# æŸ¥çœ‹é•œåƒ
docker images | grep qms-nexus-frontend
```

**éªŒè¯**: ç¡®è®¤é•œåƒæ„å»ºæˆåŠŸï¼Œå¤§å°åˆç†ï¼ˆé€šå¸¸<100MBï¼‰

#### æ­¥éª¤2ï¼šå¯åŠ¨æœåŠ¡
```bash
# ä½¿ç”¨docker-composeå¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f frontend
docker-compose logs -f backend
```

**éªŒè¯**: ç¡®è®¤æ‰€æœ‰å®¹å™¨çŠ¶æ€ä¸ºUp

#### æ­¥éª¤3ï¼šéªŒè¯éƒ¨ç½²
```bash
# å¥åº·æ£€æŸ¥
curl -f http://localhost/system || echo "Frontend check failed"
curl -f http://localhost:8000/health || echo "Backend check failed"
curl -f http://localhost:8000/api/v1/documents || echo "API check failed"
```

**éªŒè¯**: æ‰€æœ‰å¥åº·æ£€æŸ¥é€šè¿‡

#### æ­¥éª¤4ï¼šæµè§ˆå™¨éªŒè¯
- [ ] è®¿é—® `http://localhost/system` - åº”ç”¨æ­£å¸¸åŠ è½½
- [ ] æ‰€æœ‰åŠŸèƒ½é¡µé¢å¯è®¿é—®
- [ ] æ•°æ®åŠ è½½æ­£å¸¸
- [ ] æ— æ§åˆ¶å°é”™è¯¯

---

## ğŸ” éƒ¨ç½²åéªŒè¯

### åŠŸèƒ½éªŒè¯
- [ ] **ä»ªè¡¨ç›˜é¡µé¢**: `/system/dashboard` - æ•°æ®æ˜¾ç¤ºæ­£å¸¸
- [ ] **æ–‡ä»¶ä¸Šä¼ **: `/system/upload` - ä¸Šä¼ åŠŸèƒ½æ­£å¸¸
- [ ] **æ–‡æ¡£åˆ—è¡¨**: `/system/documents` - åˆ—è¡¨åŠ è½½æ­£å¸¸
- [ ] **æ–‡æ¡£è¯¦æƒ…**: `/system/documents/1` - è¯¦æƒ…é¡µæ­£å¸¸ï¼ˆIDä¸º1çš„æ–‡æ¡£ï¼‰
- [ ] **æ ‡ç­¾ç®¡ç†**: `/system/tags` - æ ‡ç­¾åŠŸèƒ½æ­£å¸¸
- [ ] **æ™ºèƒ½é—®ç­”**: `/system/chat` - é—®ç­”åŠŸèƒ½æ­£å¸¸
- [ ] **æ–‡æ¡£æœç´¢**: `/system/search` - æœç´¢åŠŸèƒ½æ­£å¸¸
- [ ] **ç”¨æˆ·ç®¡ç†**: `/system/users` - ç”¨æˆ·ç®¡ç†åŠŸèƒ½æ­£å¸¸
- [ ] **æ“ä½œæ—¥å¿—**: `/system/logs` - æ—¥å¿—æŸ¥çœ‹æ­£å¸¸
- [ ] **ç³»ç»Ÿè®¾ç½®**: `/system/settings` - è®¾ç½®åŠŸèƒ½æ­£å¸¸

### è·¯ç”±éªŒè¯
- [ ] **æ ¹è·¯å¾„é‡å®šå‘**: `/` â†’ `/system` â†’ `/system/dashboard`
- [ ] **æ—§è·¯ç”±é‡å®šå‘**: `/documents` â†’ `/system/documents`
- [ ] **æ—§è·¯ç”±é‡å®šå‘**: `/chat` â†’ `/system/chat`
- [ ] **404é¡µé¢**: è®¿é—®ä¸å­˜åœ¨çš„è·¯ç”±æ˜¾ç¤º404é¡µé¢

### æ€§èƒ½éªŒè¯
- [ ] é¡µé¢åŠ è½½æ—¶é—´ < 3ç§’
- [ ] é™æ€èµ„æºåŠ è½½æ­£å¸¸ï¼ˆæ— 404ï¼‰
- [ ] APIå“åº”æ—¶é—´ < 1ç§’
- [ ] å‰ç«¯æ— JavaScripté”™è¯¯

### å…¼å®¹æ€§éªŒè¯
- [ ] Chromeæµè§ˆå™¨æ­£å¸¸
- [ ] Firefoxæµè§ˆå™¨æ­£å¸¸
- [ ] Edgeæµè§ˆå™¨æ­£å¸¸
- [ ] ç§»åŠ¨ç«¯å“åº”å¼æ­£å¸¸

---

## ğŸ”„ å›æ»šæ–¹æ¡ˆ

### å¦‚æœéƒ¨ç½²å¤±è´¥

#### å¿«é€Ÿå›æ»šï¼ˆ< 5åˆ†é’Ÿï¼‰
```bash
# 1. åœæ­¢æœåŠ¡
docker-compose down
# æˆ–
sudo systemctl stop nginx

# 2. æ¢å¤å¤‡ä»½
# å¦‚æœä½¿ç”¨äº†å¤‡ä»½ç›®å½•
cp -r /backup/qms-nexus-frontend/* /usr/share/nginx/html/

# 3. æ¢å¤æ—§é…ç½®
# å¦‚æœNginxé…ç½®æœ‰é—®é¢˜
sudo cp /etc/nginx/conf.d/qms-nexus.conf.backup /etc/nginx/conf.d/qms-nexus.conf
sudo nginx -t && sudo systemctl reload nginx

# 4. é‡æ–°å¯åŠ¨æœåŠ¡
docker-compose up -d
# æˆ–
sudo systemctl start nginx
```

#### éªŒè¯å›æ»š
- [ ] è®¿é—®æ—§URLæ¢å¤æ­£å¸¸
- [ ] åŠŸèƒ½æ­£å¸¸
- [ ] æ— é”™è¯¯æ—¥å¿—

---

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

### ç›‘æ§æŒ‡æ ‡
- [ ] åº”ç”¨çŠ¶æ€ç›‘æ§ï¼ˆUptimeï¼‰
- [ ] é”™è¯¯ç‡ < 1%
- [ ] APIå“åº”æ—¶é—´P95 < 2ç§’
- [ ] é¡µé¢åŠ è½½æ—¶é—´P95 < 3ç§’

### æ—¥å¿—æ£€æŸ¥
```bash
# Nginxè®¿é—®æ—¥å¿—
tail -f /var/log/nginx/access.log

# Nginxé”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/error.log

# åº”ç”¨æ—¥å¿—ï¼ˆå¦‚ä½¿ç”¨Dockerï¼‰
docker-compose logs -f
```

**éªŒè¯**: æ— é”™è¯¯æ—¥å¿—ï¼Œè®¿é—®æ—¥å¿—æ­£å¸¸

---

## ğŸ“ æ–‡æ¡£æ›´æ–°

éƒ¨ç½²å®Œæˆåï¼Œéœ€è¦æ›´æ–°ä»¥ä¸‹æ–‡æ¡£ï¼š

- [ ] **README.md** - æ›´æ–°è®¿é—®åœ°å€
- [ ] **APIæ–‡æ¡£** - æ›´æ–°è·¯ç”±è¯´æ˜
- [ ] **ç”¨æˆ·æ‰‹å†Œ** - æ›´æ–°æ“ä½œæŒ‡å—
- [ ] **éƒ¨ç½²æ–‡æ¡£** - æ›´æ–°éƒ¨ç½²æ­¥éª¤

---

## ğŸ“¢ é€šçŸ¥ç›¸å…³æ–¹

éƒ¨ç½²å®Œæˆåé€šçŸ¥ï¼š

- [ ] **äº§å“å›¢é˜Ÿ** - éƒ¨ç½²å®Œæˆï¼ŒåŠŸèƒ½å¯ç”¨
- [ ] **QAå›¢é˜Ÿ** - å¯ä»¥è¿›è¡ŒéªŒæ”¶æµ‹è¯•
- [ ] **è¿ç»´å›¢é˜Ÿ** - ç›‘æ§é…ç½®å·²æ›´æ–°
- [ ] **ç”¨æˆ·** - å¦‚æœ‰URLå˜æ›´ï¼Œé€šçŸ¥ç”¨æˆ·æ›´æ–°ä¹¦ç­¾

---

## âœ… éƒ¨ç½²ç¡®è®¤

### æœ€ç»ˆæ£€æŸ¥ï¼ˆéƒ¨ç½²å24å°æ—¶ï¼‰
- [ ] æ— ç”¨æˆ·æŠ•è¯‰
- [ ] é”™è¯¯ç‡æ­£å¸¸
- [ ] æ€§èƒ½æŒ‡æ ‡æ­£å¸¸
- [ ] æ‰€æœ‰åŠŸèƒ½æ­£å¸¸ä½¿ç”¨

### éƒ¨ç½²å®Œæˆç¡®è®¤
- [ ] éƒ¨ç½²æ—¥æœŸï¼š_________
- [ ] éƒ¨ç½²äººå‘˜ï¼š_________
- [ ] éªŒè¯äººå‘˜ï¼š_________
- [ ] éƒ¨ç½²çŠ¶æ€ï¼šâœ… æˆåŠŸ / âŒ å¤±è´¥ï¼ˆéœ€å›æ»šï¼‰

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

#### 1. 404é”™è¯¯ - è·¯ç”±ä¸åŒ¹é…
**ç—‡çŠ¶**: è®¿é—®é¡µé¢æ˜¾ç¤º404
**è§£å†³**:
```bash
# æ£€æŸ¥Nginxé…ç½®
sudo nginx -t

# é‡è½½Nginx
sudo systemctl reload nginx
```

#### 2. APIè¯·æ±‚å¤±è´¥
**ç—‡çŠ¶**: å‰ç«¯æ˜¾ç¤ºAPIè¯·æ±‚å¤±è´¥
**æ£€æŸ¥**:
```bash
# æ£€æŸ¥åç«¯æœåŠ¡
curl http://localhost:8000/health

# æ£€æŸ¥Nginxä»£ç†
curl http://localhost/api/v1/documents
```

#### 3. é™æ€èµ„æºåŠ è½½å¤±è´¥
**ç—‡çŠ¶**: CSS/JSæ–‡ä»¶404
**è§£å†³**:
```bash
# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -lh /usr/share/nginx/html/

# æ£€æŸ¥Nginxé…ç½®ä¸­çš„rootè·¯å¾„
```

---

## ğŸ“ ç´§æ€¥è”ç³»

å¦‚éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œè¯·è”ç³»ï¼š

- **æŠ€æœ¯è´Ÿè´£äºº**: _____________
- **è¿ç»´è´Ÿè´£äºº**: _____________
- **äº§å“è´Ÿè´£äºº**: _____________

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2026-02-15  
**ä¸‹æ¬¡å®¡æ ¸**: 2026-03-15
